<!DOCTYPE html>

<html lang="en">



<head>

    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->

    <meta name="viewport"

        content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=2.0, user-scalable=no" />

    <title>ç¾½çƒç®¡ç†</title>

    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="draganddrop.css">

    <link rel="stylesheet" href="http://www.jqueryscript.net/css/jquerysctipttop.css">

    <!-- <link rel="stylesheet" href="https://bootswatch.com/flatly/bootstrap.min.css"> -->

    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

    <script src="draganddrop.js"></script>

    <script src="Event.js"></script>

    <script src="RWdata.js"></script>

    <script src="Copy.js"></script>



    <h1>ç¾½çƒç®¡ç†</h1>



    <script type="text/javascript">

        $(document).ready(function () {

            // init area

            ReadMembers('Male');

            ReadMembers('Female');

            ReadMembers('VIP');



            ReadPlayers();

            CheckCourtsNum();

            AddPlayers();

            // AddRestPlayers(); 





            checkPlayersCount();

            InitHideCourtNameInput();

            //ManualDel();

            ///çƒå ´ç®¡ç†ç•«é¢

            //ul.grouped å¯æ’åº ä¸” ç¾¤çµ„åŒ–

            $('ul.grouped').sortable({

                group: true,

                handle: '.sortHandle',

                update: function () {

                    CheckArray();

                    checkPlayersCount();

                    ///åˆªé™¤äººå“¡

                    var n_del = $('.DelZone li').length;

                    if (n_del >= 1) {

                        $('.DelZone li').remove();

                    }

                    CheckElement();

                },

                scroll: true

            });



            ///Command Btn Event

            ///æ·»åŠ è‡¨æ‰“äººå“¡

            $('.AddPlayerBtn').click(function () {

                AddPayPlayers();

                checkPlayersCount();

                WritePlayers();

                CheckElement();

            });

            $('.RefreshMemberBtn').click(function () {

                AddRestPlayers();

                checkPlayersCount();

                WritePlayers();

                CheckElement();

            });

            $('.ClearCourtBtn').click(function () {

                var yes = confirm('æ¸…ç©ºå ´åœ°æœƒå°‡æ‰€æœ‰äººå“¡æ¸…ç©º\nè«‹ç¢ºèª');

                if (yes) {

                    CheckElement();

                    for (let index = 0; index < Court1Html.length; index++) {

                        RestHtml.push(Court1Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                    }

                    Court1Html.length = 0; ///æ¸…ç©º

                    for (let index = 0; index < Court2Html.length; index++) {

                        RestHtml.push(Court2Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                    }

                    Court2Html.length = 0; ///æ¸…ç©º

                    for (let index = 0; index < Court3Html.length; index++) {

                        RestHtml.push(Court3Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                    }

                    Court3Html.length = 0; ///æ¸…ç©º

                    for (let index = 0; index < Court4Html.length; index++) {

                        RestHtml.push(Court4Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                    }

                    Court4Html.length = 0; ///æ¸…ç©º

                    for (let index = 0; index < WaitHtml.length; index++) {

                        RestHtml.push(WaitHtml[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                    }

                    WaitHtml.length = 0; ///æ¸…ç©º

                    RefreshView();

                }

            })

            ///æ”¹å ´åœ°åç¨±

            $('#Court1NameBtn').click(function () {

                if ($('#Court1NameBtn').text() === 'æ”¹å') {

                    $('#Court1NameInput').show();

                    $('#Court1NameBtn').text('ç¢ºèª');

                } else if ($('#Court1NameBtn').text() === 'ç¢ºèª') {

                    newName = $('#Court1NameInput').val();

                    if (newName != '') {

                        $('.Court1Name b').text(newName);

                    }

                    $('#Court1NameInput').hide();

                    $('#Court1NameBtn').text('æ”¹å');

                }

            });

            $('#Court2NameBtn').click(function () {

                if ($('#Court2NameBtn').text() === 'æ”¹å') {

                    $('#Court2NameInput').show();

                    $('#Court2NameBtn').text('ç¢ºèª');

                } else if ($('#Court2NameBtn').text() === 'ç¢ºèª') {

                    newName = $('#Court2NameInput').val();

                    if (newName != '') {

                        $('.Court2Name b').text(newName);

                    }

                    $('#Court2NameInput').hide();

                    $('#Court2NameBtn').text('æ”¹å');

                }

            });

            $('#Court3NameBtn').click(function () {

                if ($('#Court3NameBtn').text() === 'æ”¹å') {

                    $('#Court3NameInput').show();

                    $('#Court3NameBtn').text('ç¢ºèª');

                } else if ($('#Court3NameBtn').text() === 'ç¢ºèª') {

                    newName = $('#Court3NameInput').val();

                    if (newName != '') {

                        $('.Court3Name b').text(newName);

                    }

                    $('#Court3NameInput').hide();

                    $('#Court3NameBtn').text('æ”¹å');

                }

            });

            $('#Court4NameBtn').click(function () {

                if ($('#Court4NameBtn').text() === 'æ”¹å') {

                    $('#Court4NameInput').show();

                    $('#Court4NameBtn').text('ç¢ºèª');

                } else if ($('#Court4NameBtn').text() === 'ç¢ºèª') {

                    newName = $('#Court4NameInput').val();

                    if (newName != '') {

                        $('.Court4Name b').text(newName);

                    }

                    $('#Court4NameInput').hide();

                    $('#Court4NameBtn').text('æ”¹å');

                }

            });

            ///æ›äºº æŒ‰ç´

            $('#ChangeIdC1').click(function () {

                CheckElement();

                Court1Html = Court1Html.sort(shuffle);

                for (let index = 0; index < Court1Html.length; index++) {

                    WaitHtml.push(Court1Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                }

                Court1Html.length = 0; ///æ¸…ç©º

                for (let index = 0; index < 4; index++) {

                    if (WaitHtml.length != 0) {

                        Court1Html.push(WaitHtml.shift()); ///å°‡ç­‰å¾…å€äººå“¡ç§»è‡ªCourt

                    }

                }

                RefreshView();

            });

            $('#ChangeIdC2').click(function () {

                CheckElement();

                Court2Html = Court2Html.sort(shuffle);

                for (let index = 0; index < Court2Html.length; index++) {

                    WaitHtml.push(Court2Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                }

                Court2Html.length = 0; ///æ¸…ç©º

                for (let index = 0; index < 4; index++) {

                    if (WaitHtml.length != 0) {

                        Court2Html.push(WaitHtml.shift()); ///å°‡ç­‰å¾…å€äººå“¡ç§»è‡ªCourt

                    }

                }

                RefreshView();

            });

            $('#ChangeIdC3').click(function () {

                CheckElement();

                Court3Html = Court3Html.sort(shuffle);

                for (let index = 0; index < Court3Html.length; index++) {

                    WaitHtml.push(Court3Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                }

                Court3Html.length = 0; ///æ¸…ç©º

                for (let index = 0; index < 4; index++) {

                    if (WaitHtml.length != 0) {

                        Court3Html.push(WaitHtml.shift()); ///å°‡ç­‰å¾…å€äººå“¡ç§»è‡ªCourt

                    }

                }

                RefreshView();

            });

            $('#ChangeIdC4').click(function () {

                CheckElement();

                Court4Html = Court4Html.sort(shuffle);

                for (let index = 0; index < Court4Html.length; index++) {

                    WaitHtml.push(Court4Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                }

                Court4Html.length = 0; ///æ¸…ç©º

                for (let index = 0; index < 4; index++) {

                    if (WaitHtml.length != 0) {

                        Court4Html.push(WaitHtml.shift()); ///å°‡ç­‰å¾…å€äººå“¡ç§»è‡ªCourt

                    }

                }

                RefreshView();

            });

            ///æ¸…ç©ºå ´åœ°          

            $('#ClearIdC1').click(function () {

                CheckElement();

                Court1Html = Court1Html.sort(shuffle);

                for (let index = 0; index < Court1Html.length; index++) {

                    WaitHtml.push(Court1Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                }

                Court1Html.length = 0; ///æ¸…ç©º

                RefreshView();

            });

            $('#ClearIdC2').click(function () {

                CheckElement();

                Court2Html = Court2Html.sort(shuffle);

                for (let index = 0; index < Court2Html.length; index++) {

                    WaitHtml.push(Court2Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                }

                Court2Html.length = 0; ///æ¸…ç©º

                RefreshView();

            });

            $('#ClearIdC3').click(function () {

                CheckElement();

                Court3Html = Court3Html.sort(shuffle);

                for (let index = 0; index < Court3Html.length; index++) {

                    WaitHtml.push(Court3Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                }

                Court3Html.length = 0; ///æ¸…ç©º

                RefreshView();

            });

            $('#ClearIdC4').click(function () {

                CheckElement();

                Court4Html = Court4Html.sort(shuffle);

                for (let index = 0; index < Court4Html.length; index++) {

                    WaitHtml.push(Court4Html[index]); ///ç­‰å¾…å€æ·»åŠ äººå“¡

                }

                Court4Html.length = 0; ///æ¸…ç©º

                RefreshView();

            });

            ///å ´åœ°æ•¸é‡ æŒ‰ç´

            $('.AdjustCourtsNum_1 button').click(function () {

                CourtsNum = 1;

                CheckCourtsNum();

                WritePlayers();

            });

            $('.AdjustCourtsNum_2 button').click(function () {

                CourtsNum = 2;

                CheckCourtsNum();

                WritePlayers();

            });

            $('.AdjustCourtsNum_3 button').click(function () {

                CourtsNum = 3;

                CheckCourtsNum();

                WritePlayers();

            });

            $('.AdjustCourtsNum_4 button').click(function () {

                CourtsNum = 4;

                CheckCourtsNum();

                WritePlayers();

            });



            ////éšŠå“¡ç®¡ç†ç•«é¢

            //ul.Mgrouped å¯æ’åº ä¸” ç¾¤çµ„åŒ–

            $('ul.Mgrouped').sortable({

                group: true,

                handle: '.sortHandle',

                update: function () {

                    checkPlayersCount();

                    ///åˆªé™¤äººå“¡

                    var n_del = $('.MDelZone li').length;

                    if (n_del >= 1) {

                        $('.MDelZone li').remove();

                    }

                    ///å„²å­˜

                    checkMArray('Male');

                    checkMArray('Female');

                    checkMArray('VIP');

                },

                scroll: true

            });

            ////æ–°å¢éšŠå“¡

            $('.MAddMale').click(function () {

                AddMember('Male', 'ç”·éšŠå“¡');

                checkPlayersCount();

            });

            $('.MAddFemale').click(function () {

                AddMember('Female', 'å¥³éšŠå“¡');

                checkPlayersCount();

            });

            $('.MAddVIP').click(function () {

                AddMember('VIP', 'VIP');

                checkPlayersCount();

            });

            $('.ImportBtn').click(function () {

                MemberToString();

            });

            $('.ExportBtn').click(function () {

                StringtoMember();

            });

        });

    </script>

</head>



<body>

    <div class="tab">

        <button class="tablinks" onclick="SelectTab(event,'CourtsManage')">çƒå ´ç®¡ç†</button>

        <button class="tablinks" onclick="SelectTab(event,'MembersManage')">éšŠå“¡ç®¡ç†</button>

        <button class="tablinks" onclick="SelectTab(event,'PayManage')">ä»˜æ¬¾ç®¡ç†</button>

    </div>



    <div id="CourtsManage" class="tabcontent">
    <div style="max-width: 1200px; margin: 0 auto;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h3>ğŸŸï¸ ç•¶å‰å ´åœ°ç‹€æ…‹</h3>
            <button class="ClearCourtBtn">ğŸ—‘ï¸ å…¨å ´æ¸…ç©ºé‡ç½®</button>
        </div>

        <div class="Courts">
            </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div class="Wait">
                <b>â³ ç­‰å¾…å€ç‹€æ…‹</b>
                <ul id="Waitgrouped" class="grouped" style="background: #f0f4f7; border: none; grid-template-columns: 1fr 1fr 1fr;"></ul>
            </div>
            <div class="Rest">
                <b>â˜• ä¼‘æ¯å€</b>
                <button class="RefreshMemberBtn" style="padding: 5px 15px; width: auto; margin-left: 10px;">æ›´æ–°</button>
                <ul id="Restgrouped" class="grouped" style="background: #f0f4f7; border: none; grid-template-columns: 1fr 1fr 1fr;"></ul>
            </div>
        </div>

        <div class="DelZone" style="margin-top: 20px;">
            ğŸ”¥ æ‹–ç§»è‡³æ­¤è™•æ°¸ä¹…åˆªé™¤äººå“¡
            <ul class="grouped" style="min-height: 50px; border: none;"></ul>
        </div>
    </div>
</div>



        <div class="Command">

            <div>

                <button class="AddPlayerBtn">æ·»åŠ è‡¨æ‰“äººå“¡</button>

            </div>

            <div class="AdjustCourtsNum">

                <div class="AdjustCourtsNum_1">

                    <button>1å€‹å ´åœ°</button>

                </div>

                <div class="AdjustCourtsNum_2">

                    <button>2å€‹å ´åœ°</button>

                </div>

                <div class="AdjustCourtsNum_3">

                    <button>3å€‹å ´åœ°</button>

                </div>

                <div class="AdjustCourtsNum_4">

                    <button>4å€‹å ´åœ°</button>

                </div>

            </div>

        </div>



        <div class="Wait">

            <b>ç­‰å¾…å€ç‹€æ…‹</b>

            <u>äººæ•¸</u>

            <ul id="Waitgrouped" class="grouped">

            </ul>

        </div>



        <div class="Rest">

            <b>ä¼‘æ¯å€(ä¸æœƒä¸Šå ´)</b>

            <u>äººæ•¸</u>

            <div>

                <button class="RefreshMemberBtn">æ›´æ–°éšŠå“¡</button>

            </div>

            <ul id="Restgrouped" class="grouped">

            </ul>

        </div>

        <div class="DelZone">

            <b>æ”¾ç½®æ­¤å€å¾Œåˆªé™¤</b>

            <ul class="grouped">

                <div class="empty"></div>

            </ul>

        </div>

    </div>



    <div id="MembersManage" class="tabcontent">

        <!-- <div id="MembersManage"></div> -->

        <div>

            <h3>éšŠå“¡ç‹€æ…‹</h3>

            <button class="ImportBtn">è¤‡è£½éšŠå“¡</button>

            <button class="ExportBtn">è²¼ä¸ŠéšŠå“¡</button>

        </div>

        <div class="MMale">

            <b>ç”·éšŠå“¡</b>

            <u>äººæ•¸</u>

            <div>

                <button class="MAddMale">æ–°å¢</button>

            </div>

            <ul id="MMalegrouped" class="Mgrouped">

            </ul>

        </div>

        <div class="MFemale">

            <b>å¥³éšŠå“¡</b>

            <u>äººæ•¸</u>

            <div>

                <button class="MAddFemale">æ–°å¢</button>

            </div>

            <ul id="MFemalegrouped" class="Mgrouped">

            </ul>

        </div>

        <div class="MVIP">

            <b>VIPéšŠå“¡</b>

            <u>äººæ•¸</u>

            <div>

                <button class="MAddVIP">æ–°å¢</button>

            </div>

            <ul id="MVIPgrouped" class="Mgrouped">

            </ul>

        </div>

        <div class="MDelZone">

            <b>æ”¾ç½®æ­¤å€å¾Œåˆªé™¤</b>

            <ul class="Mgrouped">

                <div class="empty"></div>

            </ul>

        </div>

    </div>



    <div id="PayManage" class="tabcontent">

        <div class="PayZone">

            <b>ä»˜æ¬¾åå–®</b>

            <ul class="Paygrouped">



            </ul>

        </div>

        <div class="PayDelZone">

            <b>ä»˜æ¬¾åå–®æ”¾ç½®æ­¤å€å¾Œåˆªé™¤</b>

            <ul class="Paygrouped">



            </ul>

        </div>

    </div>



    <script>

        function SelectTab(evt, who) {

            var i, tabcontent, tablinks;

            tabcontent = document.getElementsByClassName('tabcontent');

            for (i = 0; i < tabcontent.length; i++) {

                tabcontent[i].style.display = 'none';

            }

            tablinks = document.getElementsByClassName('tablinks');

            for (i = 0; i < tablinks.length; i++) {

                tablinks[i].className = tablinks[i].className.replace(' active', '');

            }

            document.getElementById(who).style.display = 'block';

            evt.currentTarget.className += ' active';

        }

    </script>

</body>





</html>

